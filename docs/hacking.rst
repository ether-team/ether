Development Practices
=====================

General Ideas
-------------

Code in this project should satisfy following requirements:

* PEP8 compliant
* Covered with testcases not less than 90%
* Covered with documentation
* Reviewed

Code Quality
------------

We use `pylint`_ with default settings to check the code compliance::

    pylint <your-file>

Code rated < 9 is **NOT** acceptable.

Make sure you run unit tests before committing any changes.

Make sure that all the test cases pass and code coverage is more than 90%.

If you fix a defect, create a test case to avoid regressions in future.

.. _pylint: http://www.logilab.org/857

Documenting Your Code
---------------------

For documenting we use `sphinx`_.  You can find project documentation in :file:`docs/`
directory of the project.

Here are recomendations of documenting API:

If you document your functions this way:

.. literalinclude:: code/docfunc.py

you'll have this nice documentation generated by `sphinx`:

.. autofunction:: docfunc.foo

The same is for classes:

.. literalinclude:: code/docclass.py

.. automodule:: docclass
   :members:

Some useful links related to `sphinx`_:

* http://docutils.sourceforge.net/docs/user/rst/quickref.html
* http://sphinx.pocoo.org/markup/code.html
* http://sphinx.pocoo.org/ext/autodoc.html
* http://packages.python.org/an_example_pypi_project/sphinx.html

.. _sphinx: http://sphinx.pocoo.org

Branching Policy
----------------

Recommended way is to have separate git branch for each task.  After code is
ready branch can be rebased against master and provided for review.

Please note that **no code should go to master without review**.  It's reviewer
task to review the code, disscuss it with developer, then merge it to master
and tag it if needed.

Building Debian Package
-----------------------

To build packages, use::

    git-buildpackage -rfakeroot -uc -us -sa -D

Build Debian package is a recommended way to check your work, because project
documentation is re-generated and unit tests are run during package building.

..
    vim:ft=rst:et:ts=4:sw=4
